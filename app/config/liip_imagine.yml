liip_imagine:
  resolvers:
    speaker:
      flysystem:
        filesystem_service: oneup_flysystem.speaker_photo_filesystem
        root_url:           '%aws_s3_public_endpoint%/%app.speaker_image%'
        cache_prefix:       '%app.media_cache%'
        visibility:         public
    partner:
      flysystem:
        filesystem_service: oneup_flysystem.sponsor_image_filesystem
        root_url:           '%aws_s3_public_endpoint%/%app.sponsor_image%'
        cache_prefix:       '%app.media_cache%'
        visibility:         public
    upload_image:
      flysystem:
        filesystem_service: oneup_flysystem.upload_image_filesystem
        root_url:           '%aws_s3_public_endpoint%/%app.upload_image%'
        cache_prefix:       '%app.media_cache%'
        visibility:         public
  loaders:
    speaker:
      flysystem:
        filesystem_service: oneup_flysystem.speaker_photo_filesystem
    partner:
      flysystem:
        filesystem_service: oneup_flysystem.sponsor_image_filesystem
    upload_image:
      flysystem:
        filesystem_service: oneup_flysystem.upload_image_filesystem
  filter_sets:

    speaker:
      data_loader: speaker
      cache: speaker
      filters:
        relative_resize: { widen: 232 }
        crop: { size: [ 232, 232 ], start: [ 0, 0 ] }
      post_processors:
        jpegoptim: { strip_all: true, max: 80, progressive: true }

    partner:
      data_loader: partner
      cache: partner
      filters:
        downscale:
          max: [280, 150]
      post_processors:
        jpegoptim: { strip_all: true, max: 80, progressive: true }

    upload_image:
      data_loader: upload_image
      cache: upload_image
      post_processors:
        jpegoptim: { strip_all: true, max: 80, progressive: true }

    static_image_438_331:
      data_loader: upload_image
      cache: upload_image
      filters:
        downscale:
          max: [438, 331]
      post_processors:
        jpegoptim: { strip_all: true, max: 80, progressive: true }

    static_image_211_332:
      data_loader: upload_image
      cache: upload_image
      filters:
        downscale:
          max: [211, 332]
      post_processors:
        jpegoptim: { strip_all: true, max: 80, progressive: true }

    static_image_211_158:
      data_loader: upload_image
      cache: upload_image
      filters:
        downscale:
          max: [211, 158]
      post_processors:
        jpegoptim: { strip_all: true, max: 80, progressive: true }